# Use cases

### 1. Редактирование задачи

![Изображение]()

<table>
  <tr> 
    <th>Заголовок</th> 
    <td>Оставление комментария с вложением к задаче</td> 
  </tr> 
  <tr> 
    <th>Участники</th> 
    <td>Пользователь трекера</td> 
  </tr> 
  <tr> 
    <th>Предусловие</th> 
    <td>Авторизация в системе, наличие прав для комментирования задачи</td> 
  </tr> 
  <tr> 
    <th>Ожидаемый результат</th> 
    <td> 
      <ul> 
        <li>При открытии задачи виден оставленный комментарий, его автор, время создания</li> 
        <li>Поиск по словам из комментария отображает задачу</li> 
      </ul> 
    </td> 
  </tr> 
  <tr> 
    <th>Основной сценарий</th> 
    <td>
      <ol>
        <li>Пользователь вводит текст комментария и выбирает файл.</li>
        <li>Приложение отправляет файл в API Gateway.</li>
        <li>Gateway передает файл в Сервис вложений. </li>
        <li>Сервис вложений возвращает ссылку - сообщает, что вложение прикреплено к комментарию.</li>
        <li>Пользователь подтверждает отправку комментария с вложением</li>
        <li>Приложение формирует запрос к API Gateway с текстом комментария и ссылкой на вложение.</li>
        <li>Gateway передает запрос в Сервис задач.</li>
        <li>Сервис задач регистрирует комментарий и ссылку.</li>
        <li>Сервис задач передает запрос в Сервис поиска для актуализации индекса</li>
        <li></li>
        <li></li>
        <li></li>
        <li></li>
      </ol>    
  <tr> <th>Альтернативный сценарий</th> 
    <td>Пользователь удаляет вложение. Сервис задач передает команду Сервису вложений на удаление. Сервис задач передает измененный набор данных в Сервис поиска для корректировки индекса</td> 
  </tr> 
  <tr> 
    <th>Исключения</th> 
    <td>Нет прав на редактирование. Ошибка обновления Сервиса задач. Ошибка взаимодействия с Сервисом вложений. Недоступность Сервиса поиска</td> 
  </tr> 
</table>

    
Альтернативный сценарий: Загрузка файла отклонена Сервисом вложений. Приложение отправляет комментарий без вложения в Сервис задач через Gateway. Сервис задач отправляет текст комментария в Сервис поиска
Исключения: Нет прав на комментирование. Ошибка Сервиса вложений. Ошибка Сервиса задач. Недоступность Сервиса поиска

### 2. Поиск задачи по тексту, тегам и комментариям

![Изображение]()


| Заголовок               | Поиск задачи по тексту, тегам и комментариям                                                                                                                                                                          |
| ----------------------- | --------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- |
| Участники               | Любой пользователь трекера                                                                                                                                                                                            |
| Предусловие             | Авторизация в системе                                                                                                                                                                                                 |
| Триггер                 | Требуется найти задачу                                                                                                                                                                                                |
| Ожидаемый результат     | Пользователь получает релевантный список задач                                                                                                                                                                        |
| Основной сценарий       | Пользователь вводит поисковый запрос. Веб-приложение отправляет запрос в API Gateway. Gateway направляет запрос в Сервис поиска. Сервис поиска выполняет поиск по своему индексу и возвращает результат через Gateway |
| Альтернативный сценарий | Пользователь указывает дополнительные параметры. Gateway передает комбинированный запрос в Сервис поиска. Сервис поиска возвращает уточненный результат                                                               |
| Исключения              | Ошибка Сервиса поиска. Недоступность Сервиса поиска. Пустой результат                                                                                                                                                 |

