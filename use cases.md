# Use cases

### 1. Оставление комментария

<table>
  <tr> 
    <th>Заголовок</th> 
    <td>Оставление комментария к задаче</td> 
  </tr> 
  <tr> 
    <th>Участники</th> 
    <td>Пользователь трекера</td> 
  </tr> 
  <tr> 
    <th>Предусловие</th> 
    <td>Авторизация в системе, наличие прав для комментирования задачи</td> 
  </tr> 
  <tr> 
    <th>Ожидаемый результат</th> 
    <td> 
      При открытии задачи виден оставленный комментарий, его автор, время создания
    </td> 
  </tr> 
  <tr> 
    <th>Основной сценарий</th> 
    <td>
      <ol>
        <li>Пользователь отправляет комментарий.</li>
        <li>Приложение отправляет запрос в Сервис задач через API Gateway с текстом комментария и ссылками на вложения.</li>
        <li>Сервис задач проверяет, что пользователь имеет право писать комментарии к этой задаче.</li>
        <li>Сервис задач сохраняет комментарий и ссылку.</li>
        <li>Сервис задач отправляет запрос в сервис уведомлений о новом событии для отправки уведомления участникам задачи</li>
        <li>Сервис задач передает ответ в приложение через Api Gateway о том, что комментарий успешно оставлен.</li>
      </ol>
  </td> 
  <tr> 
    <th>Исключения</th> 
    <td>
      Право редактирования комментария отозвано во время написания комментария - ответ приложению с ошибкой о том, что комментарий невозможно оставить из-за прав доступа.
    </td> 
  </tr> 
</table>

### 2. Постановка задачи

<table>
  <tr> 
    <th>Заголовок</th> 
    <td>Постановка задачи участнику команды</td> 
  </tr> 
  <tr> 
    <th>Участники</th> 
    <td>Руководитель команды или пользователь, имеющий право ставить задачи</td>
  </tr> 
  <tr> 
    <th>Предусловие</th> 
    <td>Авторизация в системе, наличие прав для постановки задачи</td> 
  </tr> 
  <tr> 
    <th>Ожидаемый результат</th> 
    <td> 
      Созданная задача видна в трекере, виден ответственный и время создания
    </td> 
  </tr> 
  <tr> 
    <th>Основной сценарий</th> 
    <td>
      <ol>
        <li>Пользователь отправляет форму создания задачи</li>
        <li>Приложение отправляет запрос в Сервис задач через API Gateway с наполнением задачи и ссылкой на пользователя-исполнителя задачи</li>
        <li>Сервис задач сохраняет задачу.</li>
        <li>Сервис задач отправляет запрос в сервис уведомлений о новом событии для отправки уведомления участникам задачи</li>
        <li>Сервис задач передает ответ в приложение через Api Gateway о том, что задача успешно поставлена.</li>
      </ol>    
  </td> 
  <tr> 
    <th>Исключения</th> 
    <td>
      Право создания задачи отозвано после отправки запроса - ответ приложению с ошибкой о том, что комментарий невозможно оставить из-за прав доступа.
    </td> 
  </tr> 
</table>

