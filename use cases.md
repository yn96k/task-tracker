# Use cases

### 1. Редактирование задачи

![Изображение]()

| Заголовок               | Редактирование задачи                                                                                                                                                                                                                                                             |
| ----------------------- | ---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- |
| Участники               | Любой пользователь трекера                                                                                                                                                                                                                                                                                             |
| Предусловие             | Авторизация в системе                                                                                                                                                                                                                                                                                                  |
| Триггер                 | Требуется изменить параметры задачи                                                                                                                                                                                                                                                                                    |
| Ожидаемый результат     | Задача обновлена. Вложения согласованы. Индекс поиска обновлен                                                                                                                                                                                                                                                         |
| Основной сценарий       | Пользователь изменяет задачу. Веб-приложение передает запрос в API Gateway. Gateway отправляет данные в Сервис задач. Сервис задач фиксирует изменения. Сервис задач инициирует обновление вложений через Сервис вложений. Сервис задач передает обновленные текстовые данные в Сервис поиска для пересоздания индекса |
| Альтернативный сценарий | Пользователь удаляет вложение. Сервис задач передает команду Сервису вложений на удаление. Сервис задач передает измененный набор данных в Сервис поиска для корректировки индекса                                                                                                                                     |
| Исключения              | Нет прав на редактирование. Ошибка обновления Сервиса задач. Ошибка взаимодействия с Сервисом вложений. Недоступность Сервиса поиска                                                                                                                                                                                   |


### 2. Поиск задачи по тексту, тегам и комментариям

![Изображение]()


| Заголовок               | Поиск задачи по тексту, тегам и комментариям                                                                                                                                                                          |
| ----------------------- | --------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- |
| Участники               | Любой пользователь трекера                                                                                                                                                                                            |
| Предусловие             | Авторизация в системе                                                                                                                                                                                                 |
| Триггер                 | Требуется найти задачу                                                                                                                                                                                                |
| Ожидаемый результат     | Пользователь получает релевантный список задач                                                                                                                                                                        |
| Основной сценарий       | Пользователь вводит поисковый запрос. Веб-приложение отправляет запрос в API Gateway. Gateway направляет запрос в Сервис поиска. Сервис поиска выполняет поиск по своему индексу и возвращает результат через Gateway |
| Альтернативный сценарий | Пользователь указывает дополнительные параметры. Gateway передает комбинированный запрос в Сервис поиска. Сервис поиска возвращает уточненный результат                                                               |
| Исключения              | Ошибка Сервиса поиска. Недоступность Сервиса поиска. Пустой результат                                                                                                                                                 |

